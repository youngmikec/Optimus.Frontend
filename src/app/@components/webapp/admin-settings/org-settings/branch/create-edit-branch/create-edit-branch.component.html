<section id="manage-contact-category">
  <div class="manage-contact-category-header">
    <div>
      <h6 class="opt-para-2 fw-700 mb-0">
        <ng-container *ngIf="data?.instance !== 'update'">
          Create Location
        </ng-container>
        <ng-container *ngIf="data?.instance === 'update'"
          >Edit Location</ng-container
        >
      </h6>
      <!-- <p class="fw-400 mb-0 create-family-sub-header">
        Lorem ipsum dolor sit amet consectetur.
      </p> -->
    </div>

    <div matRipple class="close-icon-container" (click)="closeDialog()">
      <img src="/assets/icons/modal-close-icon.svg" alt="modal close icon" />
    </div>
  </div>

  <form [formGroup]="createEditBranchForm" (ngSubmit)="onSubmit()">
    <div class="input-style1 mb-1">
      <label class="input-label">Location</label>

      <mat-form-field appearance="outline" [style.width.%]="100">
        <input
          matInput
          placeholder="Enter location name"
          formControlName="name"
        />
        <mat-error *ngIf="createEditBranchFormControls['name'].invalid">
          <img
            src="/assets/icons/error.svg"
            alt=""
            class="img-fluid error-icon"
          />
          {{ getErrorMessage('name') }}
        </mat-error>
      </mat-form-field>
    </div>

    <label class="input-label">Contact Address</label>
    <div class="input-style1 flex-inputs mb-1">
      <div class="inputs-items">
        <mat-form-field appearance="outline" [style.width.rem]="10">
          <mat-select formControlName="country" placeholder="Country">
            <mat-option
              [value]="country.name"
              *ngFor="let country of countryList"
            >
              {{ country.name }}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="createEditBranchFormControls['country'].invalid">
            <img
              src="/assets/icons/error.svg"
              alt=""
              class="img-fluid error-icon"
            />
            {{ getErrorMessage('country') }}
          </mat-error>
        </mat-form-field>
      </div>

      <div class="inputs-items">
        <mat-form-field appearance="outline" [style.width.%]="100">
          <input matInput placeholder="State" formControlName="state" />
          <mat-error *ngIf="createEditBranchFormControls['state'].invalid">
            <img
              src="/assets/icons/error.svg"
              alt=""
              class="img-fluid error-icon"
            />
            {{ getErrorMessage('state') }}
          </mat-error>
        </mat-form-field>
      </div>
    </div>

    <div class="input-style1 flex-inputs mb-1">
      <div class="inputs-items">
        <mat-form-field appearance="outline" [style.width.%]="100">
          <input matInput placeholder="Area" formControlName="area" />
          <mat-error *ngIf="createEditBranchFormControls['area'].invalid">
            <img
              src="/assets/icons/error.svg"
              alt=""
              class="img-fluid error-icon"
            />
            {{ getErrorMessage('area') }}
          </mat-error>
        </mat-form-field>
      </div>

      <div class="inputs-items">
        <mat-form-field appearance="outline" [style.width.%]="100">
          <input
            matInput
            type="text"
            placeholder="Street"
            formControlName="streetNumber"
          />
          <mat-error
            *ngIf="createEditBranchFormControls['streetNumber'].invalid"
          >
            <img
              src="/assets/icons/error.svg"
              alt=""
              class="img-fluid error-icon"
            />
            {{ getErrorMessage('streetNumber') }}
          </mat-error>
        </mat-form-field>
      </div>
    </div>

    <div class="input-style1 flex-inputs mb-1">
      <div class="inputs-items">
        <mat-form-field appearance="outline" [style.width.%]="100">
          <input
            matInput
            type="text"
            placeholder="Building"
            formControlName="building"
          />
          <mat-error *ngIf="createEditBranchFormControls['building'].invalid">
            <img
              src="/assets/icons/error.svg"
              alt=""
              class="img-fluid error-icon"
            />
            {{ getErrorMessage('building') }}
          </mat-error>
        </mat-form-field>
      </div>

      <div class="inputs-items">
        <mat-form-field appearance="outline" [style.width.%]="100">
          <input
            matInput
            type="number"
            placeholder="Zip Code"
            formControlName="zipCode"
          />
          <mat-error *ngIf="createEditBranchFormControls['zipCode'].invalid">
            <img
              src="/assets/icons/error.svg"
              alt=""
              class="img-fluid error-icon"
            />
            {{ getErrorMessage('zipCode') }}
          </mat-error>
        </mat-form-field>
      </div>
    </div>

    <div class="cta-container footer-button">
      <button
        matRipple
        type="button"
        class="btn opt-btn-primary-outline"
        (click)="closeDialog()"
      >
        Cancel
      </button>

      <button
        matRipple
        class="btn opt-btn-primary"
        [disabled]="
          createEditBranchForm.invalid || (isLoading | async) !== false
        "
      >
        <ng-container *ngIf="data.instance === 'update'"
          >Save Changes</ng-container
        >
        <ng-container *ngIf="data.instance === 'create'">Create</ng-container>
        <ng-container *ngIf="(isLoading | async) !== false">
          <app-button-loader></app-button-loader>
        </ng-container>
      </button>
    </div>
  </form>
</section>
