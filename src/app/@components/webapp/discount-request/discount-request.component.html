<ng-container
  *ngIf="{
    discountRequestSummary: discountRequestSummary$ | async,
    discountRequestSummaryLoading: discountRequestSummaryLoading$ | async
  } as obs"
>
  <section id="approval-request">
    <div class="cards-section">
      <div class="stat-card">
        <div class="stat-card-icon">
          <svg
            width="40"
            height="40"
            viewBox="0 0 40 40"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <circle cx="20" cy="20" r="20" fill="white" />
            <ellipse cx="20" cy="20" rx="16" ry="16" fill="#0235CD" />
            <g clip-path="url(#clip0_21928_60144)">
              <path
                d="M15.8105 13.627V11H15.81L13.1836 13.6264V13.627H15.8105Z"
                fill="white"
              />
              <path
                d="M15.9531 19.3594H18.3552V23.9063H15.9531V19.3594Z"
                fill="white"
              />
              <path
                d="M17.5081 11C17.153 11 16.8652 11.2878 16.8652 11.6429V14.0388C16.8652 14.3939 16.5774 14.6817 16.2224 14.6817H13.8265C13.4714 14.6817 13.1836 14.9695 13.1836 15.3245V28.3571C13.1836 28.7122 13.4714 29 13.8265 29H26.1763C26.5313 29 26.8192 28.7122 26.8192 28.3571V11.6429C26.8192 11.2878 26.5313 11 26.1763 11H17.5081ZM19.4084 24.3152C19.4084 24.6702 19.1206 24.958 18.7655 24.958H15.5398C15.1848 24.958 14.8969 24.6702 14.8969 24.3152V18.9446C14.8969 18.5895 15.1848 18.3017 15.5398 18.3017H18.7655C19.1206 18.3017 19.4084 18.5895 19.4084 18.9446V24.3152ZM25.1387 24.4307C25.1387 24.722 24.9026 24.958 24.6113 24.958H21.0889C20.7977 24.958 20.5616 24.722 20.5616 24.4307C20.5616 24.1395 20.7977 23.9034 21.0889 23.9034H24.6113C24.9026 23.9034 25.1387 24.1395 25.1387 24.4307ZM25.1387 22.1901C25.1387 22.4813 24.9026 22.7174 24.6113 22.7174H21.0889C20.7977 22.7174 20.5616 22.4813 20.5616 22.1901C20.5616 21.8988 20.7977 21.6627 21.0889 21.6627H24.6113C24.9026 21.6627 25.1387 21.8988 25.1387 22.1901ZM25.1387 19.9494C25.1387 20.2407 24.9026 20.4768 24.6113 20.4768H21.0889C20.7977 20.4768 20.5616 20.2407 20.5616 19.9494C20.5616 19.6582 20.7977 19.4221 21.0889 19.4221H24.6113C24.9026 19.4221 25.1387 19.6582 25.1387 19.9494Z"
                fill="white"
              />
            </g>
            <defs>
              <clipPath id="clip0_21928_60144">
                <rect
                  width="18"
                  height="18"
                  fill="white"
                  transform="translate(11 11)"
                />
              </clipPath>
            </defs>
          </svg>
        </div>
        <div class="stat-card-content">
          <div *ngIf="obs.discountRequestSummaryLoading; else totalRequests">
            ...
          </div>
          <ng-template #totalRequests>
            <h4 class="opt-heading-6 fw-700 opt-text-white">
              {{ obs.discountRequestSummary?.allDiscountRequest ?? 0 }}
            </h4>
          </ng-template>
          <p class="opt-caption opt-text-white">Total Request</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-card-icon">
          <svg
            width="40"
            height="40"
            viewBox="0 0 40 40"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <circle cx="20" cy="20" r="20" fill="white" />
            <ellipse cx="20" cy="20" rx="16" ry="16" fill="#0235CD" />
            <g clip-path="url(#clip0_21928_60144)">
              <path
                d="M15.8105 13.627V11H15.81L13.1836 13.6264V13.627H15.8105Z"
                fill="white"
              />
              <path
                d="M15.9531 19.3594H18.3552V23.9063H15.9531V19.3594Z"
                fill="white"
              />
              <path
                d="M17.5081 11C17.153 11 16.8652 11.2878 16.8652 11.6429V14.0388C16.8652 14.3939 16.5774 14.6817 16.2224 14.6817H13.8265C13.4714 14.6817 13.1836 14.9695 13.1836 15.3245V28.3571C13.1836 28.7122 13.4714 29 13.8265 29H26.1763C26.5313 29 26.8192 28.7122 26.8192 28.3571V11.6429C26.8192 11.2878 26.5313 11 26.1763 11H17.5081ZM19.4084 24.3152C19.4084 24.6702 19.1206 24.958 18.7655 24.958H15.5398C15.1848 24.958 14.8969 24.6702 14.8969 24.3152V18.9446C14.8969 18.5895 15.1848 18.3017 15.5398 18.3017H18.7655C19.1206 18.3017 19.4084 18.5895 19.4084 18.9446V24.3152ZM25.1387 24.4307C25.1387 24.722 24.9026 24.958 24.6113 24.958H21.0889C20.7977 24.958 20.5616 24.722 20.5616 24.4307C20.5616 24.1395 20.7977 23.9034 21.0889 23.9034H24.6113C24.9026 23.9034 25.1387 24.1395 25.1387 24.4307ZM25.1387 22.1901C25.1387 22.4813 24.9026 22.7174 24.6113 22.7174H21.0889C20.7977 22.7174 20.5616 22.4813 20.5616 22.1901C20.5616 21.8988 20.7977 21.6627 21.0889 21.6627H24.6113C24.9026 21.6627 25.1387 21.8988 25.1387 22.1901ZM25.1387 19.9494C25.1387 20.2407 24.9026 20.4768 24.6113 20.4768H21.0889C20.7977 20.4768 20.5616 20.2407 20.5616 19.9494C20.5616 19.6582 20.7977 19.4221 21.0889 19.4221H24.6113C24.9026 19.4221 25.1387 19.6582 25.1387 19.9494Z"
                fill="white"
              />
            </g>
            <defs>
              <clipPath id="clip0_21928_60144">
                <rect
                  width="18"
                  height="18"
                  fill="white"
                  transform="translate(11 11)"
                />
              </clipPath>
            </defs>
          </svg>
        </div>
        <div class="stat-card-content">
          <div *ngIf="obs.discountRequestSummaryLoading; else acceptedRequests">
            ...
          </div>
          <ng-template #acceptedRequests>
            <h4 class="opt-heading-6 fw-700">
              {{ obs.discountRequestSummary?.approvedDiscountRequest }}
            </h4>
          </ng-template>
          <p class="opt-caption opt-text-neutral">Total Approved Request</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-card-icon">
          <svg
            width="40"
            height="40"
            viewBox="0 0 40 40"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <circle cx="20" cy="20" r="20" fill="white" />
            <ellipse cx="20" cy="20" rx="16" ry="16" fill="#0235CD" />
            <g clip-path="url(#clip0_21928_60144)">
              <path
                d="M15.8105 13.627V11H15.81L13.1836 13.6264V13.627H15.8105Z"
                fill="white"
              />
              <path
                d="M15.9531 19.3594H18.3552V23.9063H15.9531V19.3594Z"
                fill="white"
              />
              <path
                d="M17.5081 11C17.153 11 16.8652 11.2878 16.8652 11.6429V14.0388C16.8652 14.3939 16.5774 14.6817 16.2224 14.6817H13.8265C13.4714 14.6817 13.1836 14.9695 13.1836 15.3245V28.3571C13.1836 28.7122 13.4714 29 13.8265 29H26.1763C26.5313 29 26.8192 28.7122 26.8192 28.3571V11.6429C26.8192 11.2878 26.5313 11 26.1763 11H17.5081ZM19.4084 24.3152C19.4084 24.6702 19.1206 24.958 18.7655 24.958H15.5398C15.1848 24.958 14.8969 24.6702 14.8969 24.3152V18.9446C14.8969 18.5895 15.1848 18.3017 15.5398 18.3017H18.7655C19.1206 18.3017 19.4084 18.5895 19.4084 18.9446V24.3152ZM25.1387 24.4307C25.1387 24.722 24.9026 24.958 24.6113 24.958H21.0889C20.7977 24.958 20.5616 24.722 20.5616 24.4307C20.5616 24.1395 20.7977 23.9034 21.0889 23.9034H24.6113C24.9026 23.9034 25.1387 24.1395 25.1387 24.4307ZM25.1387 22.1901C25.1387 22.4813 24.9026 22.7174 24.6113 22.7174H21.0889C20.7977 22.7174 20.5616 22.4813 20.5616 22.1901C20.5616 21.8988 20.7977 21.6627 21.0889 21.6627H24.6113C24.9026 21.6627 25.1387 21.8988 25.1387 22.1901ZM25.1387 19.9494C25.1387 20.2407 24.9026 20.4768 24.6113 20.4768H21.0889C20.7977 20.4768 20.5616 20.2407 20.5616 19.9494C20.5616 19.6582 20.7977 19.4221 21.0889 19.4221H24.6113C24.9026 19.4221 25.1387 19.6582 25.1387 19.9494Z"
                fill="white"
              />
            </g>
            <defs>
              <clipPath id="clip0_21928_60144">
                <rect
                  width="18"
                  height="18"
                  fill="white"
                  transform="translate(11 11)"
                />
              </clipPath>
            </defs>
          </svg>
        </div>
        <div class="stat-card-content">
          <div *ngIf="obs.discountRequestSummaryLoading; else pendingRequests">
            ...
          </div>
          <ng-template #pendingRequests>
            <h4 class="opt-heading-6 fw-700">
              {{ obs.discountRequestSummary?.pendingDiscountRequest }}
            </h4>
          </ng-template>
          <p class="opt-caption opt-text-neutral">Total Pending Requests</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-card-icon">
          <svg
            width="40"
            height="40"
            viewBox="0 0 40 40"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <circle cx="20" cy="20" r="20" fill="white" />
            <ellipse cx="20" cy="20" rx="16" ry="16" fill="#0235CD" />
            <g clip-path="url(#clip0_21928_60144)">
              <path
                d="M15.8105 13.627V11H15.81L13.1836 13.6264V13.627H15.8105Z"
                fill="white"
              />
              <path
                d="M15.9531 19.3594H18.3552V23.9063H15.9531V19.3594Z"
                fill="white"
              />
              <path
                d="M17.5081 11C17.153 11 16.8652 11.2878 16.8652 11.6429V14.0388C16.8652 14.3939 16.5774 14.6817 16.2224 14.6817H13.8265C13.4714 14.6817 13.1836 14.9695 13.1836 15.3245V28.3571C13.1836 28.7122 13.4714 29 13.8265 29H26.1763C26.5313 29 26.8192 28.7122 26.8192 28.3571V11.6429C26.8192 11.2878 26.5313 11 26.1763 11H17.5081ZM19.4084 24.3152C19.4084 24.6702 19.1206 24.958 18.7655 24.958H15.5398C15.1848 24.958 14.8969 24.6702 14.8969 24.3152V18.9446C14.8969 18.5895 15.1848 18.3017 15.5398 18.3017H18.7655C19.1206 18.3017 19.4084 18.5895 19.4084 18.9446V24.3152ZM25.1387 24.4307C25.1387 24.722 24.9026 24.958 24.6113 24.958H21.0889C20.7977 24.958 20.5616 24.722 20.5616 24.4307C20.5616 24.1395 20.7977 23.9034 21.0889 23.9034H24.6113C24.9026 23.9034 25.1387 24.1395 25.1387 24.4307ZM25.1387 22.1901C25.1387 22.4813 24.9026 22.7174 24.6113 22.7174H21.0889C20.7977 22.7174 20.5616 22.4813 20.5616 22.1901C20.5616 21.8988 20.7977 21.6627 21.0889 21.6627H24.6113C24.9026 21.6627 25.1387 21.8988 25.1387 22.1901ZM25.1387 19.9494C25.1387 20.2407 24.9026 20.4768 24.6113 20.4768H21.0889C20.7977 20.4768 20.5616 20.2407 20.5616 19.9494C20.5616 19.6582 20.7977 19.4221 21.0889 19.4221H24.6113C24.9026 19.4221 25.1387 19.6582 25.1387 19.9494Z"
                fill="white"
              />
            </g>
            <defs>
              <clipPath id="clip0_21928_60144">
                <rect
                  width="18"
                  height="18"
                  fill="white"
                  transform="translate(11 11)"
                />
              </clipPath>
            </defs>
          </svg>
        </div>
        <div class="stat-card-content">
          <div *ngIf="obs.discountRequestSummaryLoading; else declinedRequests">
            ...
          </div>
          <ng-template #declinedRequests>
            <h4 class="opt-heading-6 fw-700">
              {{ obs.discountRequestSummary?.declinedDiscountRequest }}
            </h4>
          </ng-template>
          <p class="opt-caption opt-text-neutral">Total Declined Requests</p>
        </div>
      </div>
    </div>

    <div class="approval-request-header">
      <h6 class="opt-heading-6 fw-700 mb-0">Discount Request</h6>
    </div>

    <mat-tab-group (selectedTabChange)="onTabChange($event)">
      <mat-tab label="All Discount Request">
        <app-all-discount-requests #allDiscountRequests>
        </app-all-discount-requests>
      </mat-tab>
      <mat-tab label="Approved Discount Request">
        <app-approved-discount-requests #approvedDiscountRequests>
        </app-approved-discount-requests>
      </mat-tab>
      <mat-tab label="Pending Discount Request">
        <app-pending-discount-requests #pendingDiscountRequests>
        </app-pending-discount-requests>
      </mat-tab>
      <mat-tab label="Declined Discount Request">
        <app-declined-discount-requests #declinedDiscountRequests>
        </app-declined-discount-requests>
      </mat-tab>
    </mat-tab-group>
  </section>
</ng-container>
