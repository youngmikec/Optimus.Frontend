<mat-dialog-content>
  <section id="manage-contact-category">
    <div class="manage-contact-category-header">
      <h6 class="opt-heading-6 fw-700 mb-0">
        <ng-container *ngIf="data?.instance !== 'update'">
          Create Applicant
        </ng-container>
        <ng-container *ngIf="data?.instance === 'update'"
          >Edit Applicant</ng-container
        >
      </h6>

      <div matRipple class="close-icon-container" (click)="closeDialog()">
        <img src="/assets/icons/modal-close-icon.svg" alt="modal close icon" />
      </div>
    </div>

    <form class="mt-3" [formGroup]="applicantForm" (ngSubmit)="onSubmit()">
      <div class="row">
        <div class="col-md-6">
          <div class="input-style1">
            <label class="input-label input-required">Last Name</label>

            <mat-form-field appearance="outline" [style.width.%]="100">
              <input
                matInput
                formControlName="lastName"
                type="text"
                placeholder="Enter Name"
              />

              <mat-error *ngIf="applicantFormControls['lastName'].invalid">
                <img
                  src="/assets/icons/error.svg"
                  alt=""
                  class="img-fluid error-icon"
                />
                {{ getErrorMessage('lastName') }}
              </mat-error>
            </mat-form-field>
          </div>
        </div>

        <div class="col-md-6">
          <div class="input-style1">
            <label class="input-label input-required">First Name</label>

            <mat-form-field appearance="outline" [style.width.%]="100">
              <input
                matInput
                type="text"
                formControlName="firstName"
                placeholder="Enter Name"
              />

              <mat-error *ngIf="applicantFormControls['firstName'].invalid">
                <img
                  src="/assets/icons/error.svg"
                  alt=""
                  class="img-fluid error-icon"
                />
                {{ getErrorMessage('firstName') }}
              </mat-error>
            </mat-form-field>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="input-style1">
            <label class="input-label input-required">Gender</label>

            <mat-form-field appearance="outline" [style.width.%]="100">
              <mat-select formControlName="gender" placeholder="Select Gender">
                <mat-option [value]="0">Male</mat-option>
                <mat-option [value]="1">Female</mat-option>

                <!-- <ng-template #noGenderEnum>
                  <mat-option disabled>Loading Gender...</mat-option>
                </ng-template> -->
              </mat-select>

              <mat-error *ngIf="applicantFormControls['gender'].invalid">
                <img
                  src="/assets/icons/error.svg"
                  alt=""
                  class="img-fluid error-icon"
                />
                {{ getErrorMessage('gender') }}
              </mat-error>
            </mat-form-field>
          </div>
        </div>
        <div class="col-md-6">
          <div class="input-style1">
            <label class="input-label input-required">Phone Number</label>

            <div class="select-input-style">
              <mat-form-field
                appearance="outline"
                [style.width.%]="100"
                class="select-field"
              >
                <input
                  #countryCode
                  type="text"
                  matInput
                  placeholder="234"
                  formControlName="countryCode"
                  [matAutocomplete]="forCountryCode"
                  (input)="onFilterCountryCode(countryCode.value)"
                />

                <mat-autocomplete
                  class="country-code"
                  autoActiveFirstOption
                  #forCountryCode="matAutocomplete"
                >
                  <ng-container
                    *ngIf="
                      (allFilteredCountryCodes | async) !== null;
                      else noCountryCodes
                    "
                  >
                    <mat-option
                      *ngFor="
                        let countryCode of allFilteredCountryCodes | async
                      "
                      class="country-code"
                      value="{{ countryCode.dialCode }}"
                    >
                      <div class="country-code-container">
                        <!-- <img [src]="countryCode.flag" alt="" class="flag" /> -->

                        <p class="country">
                          {{ countryCode.name }} <span></span>
                        </p>

                        <p class="code">({{ countryCode.dialCode }})</p>
                      </div>
                    </mat-option>
                  </ng-container>

                  <ng-template #noCountryCodes>
                    <mat-option disabled>Loading Country Codes...</mat-option>
                  </ng-template>
                </mat-autocomplete>
              </mat-form-field>
              <mat-form-field appearance="outline" [style.width.%]="100">
                <input
                  matInput
                  type="number"
                  placeholder="802345678"
                  formControlName="mobileNo"
                />

                <mat-error *ngIf="applicantFormControls['mobileNo'].invalid">
                  <img
                    src="/assets/icons/error.svg"
                    alt=""
                    class="img-fluid error-icon"
                  />
                  {{ getErrorMessage('mobileNo') }}
                </mat-error>
              </mat-form-field>
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="input-style1">
            <label class="input-label">Alternate Phone Number</label>

            <div class="select-input-style">
              <mat-form-field
                appearance="outline"
                [style.width.%]="100"
                class="select-field"
              >
                <input
                  #countryCode2
                  type="text"
                  matInput
                  placeholder="234"
                  formControlName="countryCode2"
                  [matAutocomplete]="forCountryCode"
                  (input)="onFilterCountryCode(countryCode2.value)"
                />

                <mat-autocomplete
                  class="country-code"
                  autoActiveFirstOption
                  #forCountryCode="matAutocomplete"
                >
                  <ng-container
                    *ngIf="
                      (allFilteredCountryCodes | async) !== null;
                      else noCountryCodes
                    "
                  >
                    <mat-option
                      *ngFor="
                        let countryCode of allFilteredCountryCodes | async
                      "
                      class="country-code"
                      value="{{ countryCode.dialCode }}"
                    >
                      <div class="country-code-container">
                        <!-- <img [src]="countryCode.flag" alt="" class="flag" /> -->

                        <p class="country">
                          {{ countryCode.name }} <span></span>
                        </p>

                        <p class="code">({{ countryCode.dialCode }})</p>
                      </div>
                    </mat-option>
                  </ng-container>

                  <ng-template #noCountryCodes>
                    <mat-option disabled>Loading Country Codes...</mat-option>
                  </ng-template>
                </mat-autocomplete>
              </mat-form-field>
              <mat-form-field appearance="outline" [style.width.%]="100">
                <input
                  matInput
                  type="number"
                  placeholder="802345678"
                  formControlName="mobileNo2"
                />

                <mat-error *ngIf="applicantFormControls['mobileNo2'].invalid">
                  <img
                    src="/assets/icons/error.svg"
                    alt=""
                    class="img-fluid error-icon"
                  />
                  {{ getErrorMessage('mobileNo2') }}
                </mat-error>
              </mat-form-field>
            </div>
          </div>
        </div>

        <div class="col-md-6">
          <div class="input-style1">
            <label class="input-label input-required">Email Address</label>

            <mat-form-field appearance="outline" [style.width.%]="100">
              <input
                matInput
                type="text"
                formControlName="email"
                placeholder="Enter Email"
              />

              <mat-error *ngIf="applicantFormControls['email'].invalid">
                <img
                  src="/assets/icons/error.svg"
                  alt=""
                  class="img-fluid error-icon"
                />
                {{ getErrorMessage('email') }}
              </mat-error>
            </mat-form-field>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="input-style1">
            <label class="input-label input-required">Contact Address</label>

            <mat-form-field appearance="outline" [style.width.%]="100">
              <mat-select
                formControlName="country"
                placeholder="Country"
                #singleSelect
              >
                <mat-option>
                  <ngx-mat-select-search
                    placeholderLabel="Search..."
                    noEntriesFoundLabel="no matching country found"
                    [formControl]="countryFilterCtrl"
                  ></ngx-mat-select-search>
                </mat-option>
                <mat-option
                  [value]="country.name"
                  *ngFor="let country of filteredCountry | async"
                >
                  <img [src]="country.flag" alt="" class="country-flag" />
                  <span>{{ country.name }}</span>
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </div>

        <div class="col-md-6">
          <div class="input-style1">
            <label class="input-label"> &nbsp; </label>
            <mat-form-field appearance="outline" [style.width.%]="100">
              <input
                matInput
                formControlName="state"
                type="text"
                placeholder="Enter State"
              />

              <mat-error *ngIf="applicantFormControls['state'].invalid">
                <img
                  src="/assets/icons/error.svg"
                  alt=""
                  class="img-fluid error-icon"
                />
                {{ getErrorMessage('state') }}
              </mat-error>
            </mat-form-field>
          </div>
        </div>

        <div class="col-md-6">
          <div class="input-style1">
            <!-- <label class="input-label input-required">Area</label> -->
            <mat-form-field appearance="outline" [style.width.%]="100">
              <input
                matInput
                formControlName="area"
                type="text"
                placeholder="Area"
              />
            </mat-form-field>
          </div>
        </div>

        <div class="col-md-6">
          <div class="input-style1">
            <!-- <label class="input-label input-required">Street</label> -->
            <mat-form-field appearance="outline" [style.width.%]="100">
              <input
                matInput
                formControlName="street"
                type="text"
                placeholder="Street"
              />

              <mat-error *ngIf="applicantFormControls['street'].invalid">
                <img
                  src="/assets/icons/error.svg"
                  alt=""
                  class="img-fluid error-icon"
                />
                {{ getErrorMessage('street') }}
              </mat-error>
            </mat-form-field>
          </div>
        </div>

        <div class="col-md-6">
          <div class="input-style1">
            <!-- <label class="input-label input-required">building</label> -->
            <mat-form-field appearance="outline" [style.width.%]="100">
              <input
                matInput
                formControlName="building"
                type="text"
                placeholder="Building"
              />
            </mat-form-field>
          </div>
        </div>

        <div class="col-md-6">
          <div class="input-style1">
            <!-- <label class="input-label input-required">building</label> -->
            <mat-form-field appearance="outline" [style.width.%]="100">
              <input
                matInput
                formControlName="postalCode"
                type="text"
                placeholder="Zip Code"
              />
            </mat-form-field>
          </div>
        </div>
      </div>

      <div class="cta-container">
        <button
          matRipple
          type="button"
          class="btn opt-btn-primary-outline"
          (click)="closeDialog()"
        >
          Cancel
        </button>

        <button
          matRipple
          type="submit"
          class="btn opt-btn-primary opt-btn-md"
          [disabled]="applicantForm.invalid || (isLoading | async) !== false"
        >
          <ng-container *ngIf="data?.instance === 'create'">
            Create
          </ng-container>

          <ng-container *ngIf="data?.instance === 'update'">
            Save Changes
          </ng-container>

          <ng-container *ngIf="(isLoading | async) !== false">
            <app-button-loader></app-button-loader>
          </ng-container>
        </button>
      </div>
    </form>
  </section>
</mat-dialog-content>
